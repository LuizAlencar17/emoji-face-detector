<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Emoji Face Detector ğŸ¤–ğŸ™‚</title>
  <link rel="stylesheet" href="styles.css" />
  <!-- face-api.js -->
  <script defer src="https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js"></script>
  <script defer src="app.js"></script>
</head>
<body>
  <header>
    <h1>Emoji Face Detector <span class="dim">by face-api.js</span></h1>
    <div class="controls">
      <button id="btnCamera">â–¶ Start Camera</button>
      <button id="btnStop" disabled>â¹ Stop</button>

      <label class="badge">Mirror <input id="mirror" type="checkbox" checked></label>
      <label class="badge">Boxes <input id="showBoxes" type="checkbox" checked></label>
      <label class="badge">Landmarks <input id="showLM" type="checkbox"></label>
      <label class="badge">Blur faces <input id="blurFaces" type="checkbox"></label>
      <label class="badge">Trails <input id="showTrails" type="checkbox"></label>

      <label class="badge">
        Emoji size
        <input id="emojiSize" type="range" min="24" max="200" value="96" />
      </label>
      <label class="badge">
        InputSize
        <input id="inpSize" type="range" min="160" max="640" step="32" value="320" />
      </label>
      <label class="badge">
        Threshold
        <input id="thr" type="range" min="0.1" max="0.9" step="0.05" value="0.5" />
      </label>

      <button id="btnShot" title="Save snapshot">ğŸ“¸ Snapshot</button>
      <button id="btnDump" title="Download JSON detections">â¬‡ JSON</button>

      <label class="badge file">
        ğŸ“ Image
        <input id="fileInput" type="file" accept="image/*" />
      </label>
    </div>
  </header>

  <main>
    <div id="stage">
      <video id="video" playsinline></video>
      <canvas id="canvas" width="960" height="540" aria-label="Emoji overlay canvas"></canvas>
      <div id="loading">Loading modelsâ€¦</div>
    </div>

    <aside>
      <h2>Status</h2>
      <div id="status">Idle</div>
      <h3>Top expressions</h3>
      <ul id="exprList"></ul>
      <details>
        <summary>Tips</summary>
        <ul class="dim">
          <li>Smile ğŸ˜„, frown ğŸ˜¢, surprise ğŸ˜®, angry ğŸ˜ , disgust ğŸ¤¢, fear ğŸ˜±, neutral ğŸ™‚</li>
          <li>Use â€œMirrorâ€ for webcam-style view.</li>
          <li>You can also test on still images via ğŸ“ Image.</li>
        </ul>
      </details>
    </aside>
  </main>

  <footer>
    <span>Runs entirely on-device. No data leaves your browser.</span>
  </footer>
</body>
</html>
